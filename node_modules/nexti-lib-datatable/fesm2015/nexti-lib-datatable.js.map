{"version":3,"file":"nexti-lib-datatable.js","sources":["../../../projects/nexti-lib-datatable/src/lib/services/excel.service.ts","../../../projects/nexti-lib-datatable/src/lib/component/table/table.component.ts","../../../projects/nexti-lib-datatable/src/lib/pages/nexti-lib-datatable.component.ts","../../../projects/nexti-lib-datatable/src/lib/component/breadcrumbs/breadcrumbs.component.ts","../../../projects/nexti-lib-datatable/src/lib/component/titlesecondary/titlesecondary.component.ts","../../../projects/nexti-lib-datatable/src/lib/nexti-lib-datatable.module.ts","../../../projects/nexti-lib-datatable/src/public-api.ts","../../../projects/nexti-lib-datatable/src/nexti-lib-datatable.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport * as FileSaver from 'file-saver';\r\nimport * as XLSX from 'xlsx';\r\nimport { CurrencyPipe, DatePipe } from '@angular/common';\r\n\r\nconst EXCEL_TYPE =\r\n  'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet;charset=UTF-8';\r\nconst EXCEL_EXTENSION = '.xlsx';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class ExcelService {\r\n  constructor(private datePipe: DatePipe, private currencyPipe: CurrencyPipe) {}\r\n\r\n  public exportAsExcelFile(data: any[], excelFileName: string): void {\r\n    const formatData = this.formatData(data);\r\n    const ws: XLSX.WorkSheet = XLSX.utils.aoa_to_sheet(formatData);\r\n    const wscols = [\r\n      { wch: 1 },\r\n      { wch: 1 },\r\n      { wch: 35 },\r\n      { wch: 15 },\r\n      { wch: 15 },\r\n      { wch: 10 },\r\n      { wch: 16 },\r\n      { wch: 15 },\r\n      { wch: 20 },\r\n      { wch: 20 },\r\n    ];\r\n    ws['!cols'] = wscols;\r\n\r\n    const wb: XLSX.WorkBook = {\r\n      Sheets: { data: ws },\r\n      SheetNames: ['data'],\r\n    };\r\n    const excelBuffer: any = XLSX.write(wb, {\r\n      bookType: 'xlsx',\r\n      type: 'array',\r\n    });\r\n    this.saveAsExcelFile(excelBuffer, excelFileName);\r\n  }\r\n\r\n  private saveAsExcelFile(buffer: any, fileName: string): void {\r\n    const data: Blob = new Blob([buffer], { type: EXCEL_TYPE });\r\n    FileSaver.saveAs(\r\n      data,\r\n      fileName + '_' + new Date().getTime() + EXCEL_EXTENSION\r\n    );\r\n  }\r\n\r\n  getTableRow(array, param, whiteSpace) {\r\n    let rowsCobradas = [];\r\n    const commonDateForStr = 'dd/MM/yyyy';\r\n\r\n    array.forEach((f: any) => {\r\n      if (f.data.length) {\r\n        f.data.forEach((e: any, i: number) => {\r\n          const fechaEmi = this.datePipe.transform(\r\n            e.FechaEmision,\r\n            commonDateForStr\r\n          );\r\n          const valorFact = this.currencyPipe.transform(e.importeTotal);\r\n          const fechaEmiRet = this.datePipe.transform(\r\n            e.FechaEmisionRet,\r\n            commonDateForStr\r\n          );\r\n          const valorRet = this.currencyPipe.transform(e.importeTotalRet);\r\n          const valorTotal = this.currencyPipe.transform(e[param]);\r\n\r\n          let actualDataRow = [\r\n            e.Numdoc,\r\n            fechaEmi,\r\n            valorFact,\r\n            e.NumdocRet,\r\n            fechaEmiRet,\r\n            valorRet,\r\n            valorTotal,\r\n          ];\r\n\r\n          if (i == 0) {\r\n            rowsCobradas.push([...whiteSpace, f.rucEmpresa, ...actualDataRow]);\r\n\r\n            if (f.data.length == 1) {\r\n              rowsCobradas.push([...whiteSpace, f.razonSocial]);\r\n            }\r\n          } else if (i == 1) {\r\n            rowsCobradas.push([...whiteSpace, f.razonSocial, ...actualDataRow]);\r\n          } else {\r\n            rowsCobradas.push([...whiteSpace, '', ...actualDataRow]);\r\n          }\r\n        });\r\n      }\r\n      const totalFact = this.currencyPipe.transform(f.totalFact);\r\n      const totalRet = this.currencyPipe.transform(f.totalRet);\r\n      const totalPagado = this.currencyPipe.transform(f.totalPagado);\r\n      // subtotal\r\n      rowsCobradas.push([\r\n        ...whiteSpace,\r\n        '',\r\n        f.cantFact,\r\n        '',\r\n        totalFact,\r\n        f.cantRet,\r\n        '',\r\n        totalRet,\r\n        totalPagado,\r\n      ]);\r\n    });\r\n\r\n    return rowsCobradas;\r\n  }\r\n\r\n  formatData(data) {\r\n    const whiteSpace = ['', ''];\r\n    const tableHeader = [\r\n      ...whiteSpace,\r\n      'RUC / RAZON SOCIAL',\r\n      'Número Factura',\r\n      'Fecha Factura',\r\n      'Valor Factura',\r\n      'Número Retención',\r\n      'Fecha Retención',\r\n      'Valor Retención',\r\n      'Valor Total Pagado',\r\n    ];\r\n    const facturasCobradas: [] = data.cobradas;\r\n    const facturasPagadas: [] = data.pagadas;\r\n    const rowsCobradas = this.getTableRow(\r\n      facturasCobradas,\r\n      'totalCobrado',\r\n      whiteSpace\r\n    );\r\n    const rowsPagadas = this.getTableRow(\r\n      facturasPagadas,\r\n      'totalPagado',\r\n      whiteSpace\r\n    );\r\n\r\n    const rowTotalCobradas = [\r\n      ...whiteSpace,\r\n      'TOTAL FACTURAS COBRADAS',\r\n      data.cantCobradas,\r\n      '',\r\n      this.currencyPipe.transform(data.sumCobradas),\r\n      data.cantRetCobradas,\r\n      '',\r\n      this.currencyPipe.transform(data.sumRetCobradas),\r\n      this.currencyPipe.transform(data.totalCobradas),\r\n    ];\r\n\r\n    const rowTotalPagadas = [\r\n      ...whiteSpace,\r\n      'TOTAL FACTURAS PAGADAS',\r\n      data.cantPagadas,\r\n      '',\r\n      this.currencyPipe.transform(data.sumPagadas),\r\n      data.cantRetPagadas,\r\n      '',\r\n      this.currencyPipe.transform(data.sumRetPagadas),\r\n      this.currencyPipe.transform(data.totalPagadas),\r\n    ];\r\n    const netoTotalFor = this.currencyPipe.transform(data.netoTotal);\r\n\r\n    const rowNetos = [\r\n      ...whiteSpace,\r\n      'VALORES NETOS',\r\n      '',\r\n      '',\r\n      this.currencyPipe.transform(data.netoFact),\r\n      '',\r\n      '',\r\n      this.currencyPipe.transform(data.netoRet),\r\n      netoTotalFor,\r\n    ];\r\n\r\n    const rowPosicionNeta = [\r\n      ...whiteSpace,\r\n      'POSICION NETA DE LA EMPRESA',\r\n      netoTotalFor,\r\n    ];\r\n\r\n    const actualFormatDate = this.datePipe.transform(\r\n      Date.now(),\r\n      'dd/MM/YYYY HH:mm:ss'\r\n    );\r\n\r\n    return [\r\n      [],\r\n      [],\r\n      // prettier-ignore\r\n      [...whiteSpace, 'SESIÓN DE COMPENSACIÓN DEFINITIVA', '', '', '', '', '', '', actualFormatDate],\r\n      [...whiteSpace, 'REPORTE POR EMPRESA PARTICIPANTE'],\r\n      [],\r\n      // prettier-ignore\r\n      [...whiteSpace, 'EMPRESA :', data.Ruc, data.razonSocial, '', '', '', 'FECHA COMPENSACIÓN', data.fechaSesion],\r\n      [],\r\n      [...whiteSpace, 'FACTURAS COBRADAS'],\r\n      tableHeader,\r\n      ...rowsCobradas,\r\n      rowTotalCobradas,\r\n      [],\r\n      [],\r\n      [...whiteSpace, 'FACTURAS PAGADAS'],\r\n      tableHeader,\r\n      ...rowsPagadas,\r\n      rowTotalPagadas,\r\n      [],\r\n      [...whiteSpace, 'RESUMEN PROCESO DE COMPENSACIÓN'],\r\n      // prettier-ignore\r\n      [...whiteSpace, '', 'Número Facturas', '', 'Valor Facturas', 'Número Retenciones', '', 'Valor Retenciones', 'Valor Total'],\r\n      [],\r\n      rowTotalCobradas,\r\n      rowTotalPagadas,\r\n      rowNetos,\r\n      [],\r\n      rowPosicionNeta,\r\n    ];\r\n  }\r\n}\r\n","import { CurrencyPipe } from '@angular/common';\r\nimport {\r\n  Component,\r\n  Input,\r\n  Output,\r\n  SimpleChanges,\r\n  EventEmitter,\r\n} from '@angular/core';\r\n\r\nenum NumberFormat {\r\n  NUM = 'number',\r\n  CUR = 'currency',\r\n}\r\n\r\nenum FormatType {\r\n  NUM = 'number',\r\n  CUR = 'currency',\r\n  COU = 'count',\r\n}\r\n\r\nenum OperationFormat {\r\n  SUM = 'suma',\r\n  RES = 'resta',\r\n}\r\n\r\n@Component({\r\n  selector: 'nexti-lib-table',\r\n  templateUrl: './table.component.html',\r\n  styleUrls: ['./table.component.sass'],\r\n})\r\nexport class TableComponent {\r\n  @Input() title: any;\r\n  @Input() titleEmpty: string;\r\n  @Input() header: any;\r\n  @Input() data$: any;\r\n  @Input() footerConfig: any;\r\n  @Input() recursos: any;\r\n  @Input() actionState: any;\r\n  @Input() opOcultarFooter: boolean;\r\n  @Input() hiddenActions: boolean;\r\n  @Input() isLoading?: boolean;\r\n  @Input() paginacion?: boolean = false;\r\n  @Input() totalRegistros?: number = 0;\r\n  @Input() actualPage?: number = 0;\r\n  @Input() multFPP?: number = 0;\r\n  @Output() onNext = new EventEmitter<any>();\r\n  @Output() onReturn = new EventEmitter<any>();\r\n  @Output() onDelete = new EventEmitter<any>();\r\n  @Output() onUpdate = new EventEmitter<any>();\r\n  @Output() onActive = new EventEmitter<any>();\r\n  @Output() onShow = new EventEmitter<any>();\r\n  @Output() onShowEvent = new EventEmitter<any>();\r\n  footerRow = [];\r\n  orderHeaderStatus: Array<boolean>;\r\n  dataPerm$ = new Array<any>();\r\n  observableBtnDelete$: boolean = false;\r\n  observableBtnUpdate$: boolean = false;\r\n  observableBtnActive: boolean = false;\r\n  filas: Array<any> = [];\r\n  filasPorPagina: number = 0;\r\n\r\n  constructor(private currencyPipe: CurrencyPipe) {}\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    const { data$, recursos } = changes;\r\n    if (data$?.currentValue !== data$?.previousValue) {\r\n      this.dataPerm$ = data$?.currentValue;\r\n    }\r\n\r\n    if (recursos?.currentValue !== recursos?.previousValue) {\r\n      this.observableBtnUpdate$ = this.recursos.update;\r\n      this.observableBtnDelete$ = this.recursos.delete;\r\n      this.observableBtnActive = this.recursos.active;\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.orderHeaderStatus = this.header.map((h) => false);\r\n    if (this.paginacion && this.multFPP != 0) {\r\n      this.calcFilasPorPagina();\r\n    } else if (this.paginacion && this.multFPP === 0) {\r\n      this.filasPorPagina = 10;\r\n      this.filas.push(10);\r\n    }\r\n  }\r\n\r\n  calcFilasPorPagina() {\r\n    let cantidadFilas = 0;\r\n    for (let index = 0; index < 10; index++) {\r\n      cantidadFilas = cantidadFilas + this.multFPP;\r\n      this.filas.push(cantidadFilas);\r\n    }\r\n    this.filasPorPagina = this.filas[0];\r\n  }\r\n\r\n  paginaSiguiente() {\r\n    this.onNext.emit(this.filasPorPagina);\r\n  }\r\n  paginaAnterior() {\r\n    this.onReturn.emit(this.filasPorPagina);\r\n  }\r\n\r\n  onOrderColumn(head: any, index: number) {\r\n    const orderStatus = this.orderHeaderStatus[index];\r\n    this.orderHeaderStatus[index] = !orderStatus;\r\n    this.data$ = this.dataPerm$.sort((_, b) => {\r\n      if (typeof _[index] === 'object') {\r\n        if (_[index].title) {\r\n          if (_[index].title > b[index].title) {\r\n            return orderStatus ? 1 : -1;\r\n          }\r\n          if (_[index].title < b[index].title) {\r\n            return orderStatus ? -1 : 1;\r\n          }\r\n          return 0;\r\n        }\r\n        if (b[index].subtitle) {\r\n          if (_[index].subtitle > b[index].subtitle) {\r\n            return orderStatus ? 1 : -1;\r\n          }\r\n          if (_[index].subtitle < b[index].subtitle) {\r\n            return orderStatus ? -1 : 1;\r\n          }\r\n          return 0;\r\n        }\r\n      } else {\r\n        if (_[index] > b[index]) {\r\n          return orderStatus ? 1 : -1;\r\n        }\r\n        if (_[index] < b[index]) {\r\n          return orderStatus ? -1 : 1;\r\n        }\r\n        return 0;\r\n      }\r\n    });\r\n  }\r\n\r\n  getFooterData() {\r\n    const {\r\n      customTotalTitle,\r\n      customTotalRows,\r\n      customTotalFormatting,\r\n      customTotalType,\r\n      customTotalAlign,\r\n      customTotalFixed,\r\n      customOperationFormatting,\r\n    } = this.footerConfig;\r\n\r\n    let tableFooterData = [];\r\n    let rawData = [];\r\n\r\n    this.data$?.forEach((itemArray) => {\r\n      let rawDataRow = [];\r\n\r\n      // Step 1: format - prepare dat\r\n      const formatedData = itemArray.map((item) =>\r\n        this.getFormatDataToTreatment(item)\r\n      );\r\n\r\n      // Step 2: Get raw data (values to totals)\r\n      this.getRawData(\r\n        customTotalRows,\r\n        formatedData,\r\n        customTotalType,\r\n        rawDataRow\r\n      );\r\n\r\n      rawData.push(rawDataRow);\r\n    });\r\n\r\n    if (customTotalRows && customTotalRows.length && rawData.length) {\r\n      let procesedTotals = [];\r\n\r\n      switch (customOperationFormatting) {\r\n        case OperationFormat.RES:\r\n          procesedTotals = this.trasposeMatrix(rawData).map((itemArray) => {\r\n            return itemArray.reduce((a, b) => a - b);\r\n          });\r\n          break;\r\n        default:\r\n          procesedTotals = this.trasposeMatrix(rawData).map((itemArray) =>\r\n            itemArray.reduce((a, b) => a + b, 0)\r\n          );\r\n          break;\r\n      }\r\n\r\n      if (customTotalFormatting && customTotalFormatting.length) {\r\n        procesedTotals = customTotalFormatting.map((format, index) => {\r\n          let value, align, fixed, less;\r\n\r\n          switch (format) {\r\n            case NumberFormat.CUR:\r\n              value = this.currencyPipe.transform(procesedTotals[index]);\r\n              break;\r\n            default:\r\n              value = procesedTotals[index];\r\n              break;\r\n          }\r\n\r\n          align = customTotalAlign[index];\r\n          fixed = customTotalFixed[index];\r\n          less = procesedTotals[index] <= -1;\r\n\r\n          return {\r\n            value,\r\n            align,\r\n            fixed,\r\n            less,\r\n          };\r\n        });\r\n      }\r\n\r\n      tableFooterData = procesedTotals.length ? procesedTotals : null;\r\n    }\r\n\r\n    let finalFooterData = [];\r\n\r\n    // Clear data\r\n    if (customTotalRows && customTotalRows.length) {\r\n      let cont = 0;\r\n      for (let i = 0; i < this.header.length; i++) {\r\n        let itemToPush;\r\n\r\n        customTotalRows.forEach((customIndex) => {\r\n          if (customIndex === i) {\r\n            itemToPush = tableFooterData[cont];\r\n            cont++;\r\n          }\r\n        });\r\n\r\n        if (i === 0 && customTotalTitle) {\r\n          itemToPush = {\r\n            fixed: 'td-sticky-left title-total',\r\n            value: customTotalTitle,\r\n          };\r\n        }\r\n\r\n        if (this.header.length === i + 1 && !this.hiddenActions) {\r\n          itemToPush = { fixed: 'td-sticky-right' };\r\n        }\r\n\r\n        finalFooterData.push(itemToPush);\r\n      }\r\n    }\r\n\r\n    this.footerRow = finalFooterData;\r\n  }\r\n\r\n  formatCurrencyToNumber(value: string): number {\r\n    if (value !== undefined && value !== null)\r\n      return Number(String(value).replace(/[^0-9.-]+/g, ''));\r\n  }\r\n\r\n  trasposeMatrix(matrix) {\r\n    return matrix[0].map((_, colIndex) => matrix.map((row) => row[colIndex]));\r\n  }\r\n\r\n  toggleFilterClass(index: number) {\r\n    return `bi ${\r\n      this.orderHeaderStatus[index] ? 'bi-caret-up-fill' : 'bi-caret-down-fill'\r\n    } icon-order`;\r\n  }\r\n\r\n  isObject(val): boolean {\r\n    return typeof val === 'object';\r\n  }\r\n\r\n  getRawData(customTotalRows, formatedData, customTotalType, rawDataRow) {\r\n    if (customTotalRows && customTotalRows.length) {\r\n      customTotalRows.forEach((customIndex, indexCol) => {\r\n        formatedData.forEach((item, index) => {\r\n          if (customIndex === index) {\r\n            let returnItem = 0;\r\n\r\n            customTotalType.forEach((type, indexType) => {\r\n              if (indexCol === indexType) {\r\n                switch (type) {\r\n                  case FormatType.NUM:\r\n                    if (\r\n                      (typeof item === 'string' &&\r\n                        (item == '--' || item === '')) ||\r\n                      typeof item === 'undefined'\r\n                    ) {\r\n                      returnItem = 0;\r\n                    } else {\r\n                      returnItem = Number(item);\r\n                    }\r\n                    break;\r\n                  case FormatType.CUR:\r\n                    if (\r\n                      (typeof item === 'string' &&\r\n                        (item == '--' || item === '')) ||\r\n                      typeof item === 'undefined'\r\n                    ) {\r\n                      returnItem = 0;\r\n                    } else {\r\n                      returnItem = this.formatCurrencyToNumber(item);\r\n                    }\r\n                    break;\r\n                  case FormatType.COU:\r\n                    if (\r\n                      (typeof item === 'string' &&\r\n                        (item == '--' || item === '')) ||\r\n                      typeof item === 'undefined'\r\n                    ) {\r\n                      returnItem = 0;\r\n                    } else {\r\n                      returnItem = 1;\r\n                    }\r\n                    break;\r\n                  default:\r\n                    returnItem = 0;\r\n                }\r\n              }\r\n            });\r\n            rawDataRow.push(returnItem);\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  getFormatDataToTreatment(item) {\r\n    if (typeof item === 'object') {\r\n      if (item != null) {\r\n        if (item.title && item.subtitle) {\r\n          return `${item.title}\\n${item.subtitle}`;\r\n        } else {\r\n          return item.title ? item.title : item.subtitle && item.subtitle;\r\n        }\r\n      } else {\r\n        return '';\r\n      }\r\n    } else {\r\n      return item;\r\n    }\r\n  }\r\n\r\n  onDeleteItem(item: any) {\r\n    this.onDelete.emit(item);\r\n  }\r\n\r\n  onActiveItem(item: any) {\r\n    this.onActive.emit(item);\r\n  }\r\n\r\n  onUpdateItem(item: any) {\r\n    this.onUpdate.emit(item);\r\n  }\r\n\r\n  onShowItem(item: any, $event: any) {\r\n    this.onShow.emit(item);\r\n    this.onShowEvent.emit($event);\r\n  }\r\n}\r\n","import { CurrencyPipe, DatePipe } from '@angular/common';\r\nimport {\r\n  Component,\r\n  ElementRef,\r\n  EventEmitter,\r\n  Input,\r\n  OnInit,\r\n  Output,\r\n  QueryList,\r\n  SimpleChanges,\r\n  ViewChild,\r\n  ViewChildren,\r\n} from '@angular/core';\r\n\r\nimport * as jsPDF from 'jspdf';\r\nimport 'jspdf-autotable';\r\n\r\nimport { Angular2Txt } from 'angular2-txt/Angular2-txt';\r\nimport { ExcelService } from '../services/excel.service';\r\nimport { TableComponent } from '../component/table/table.component';\r\n\r\nenum NumberFormat {\r\n  NUM = 'number',\r\n  CUR = 'currency',\r\n}\r\n\r\nenum AlignClass {\r\n  LEFT = 'text-align: start;',\r\n  RIGHT = 'text-align: end;',\r\n}\r\n\r\nenum FormatType {\r\n  NUM = 'number',\r\n  CUR = 'currency',\r\n  DIF = 'difference',\r\n  COU = 'count',\r\n}\r\n\r\ninterface IReportConfig {\r\n  title: string;\r\n  subtitle: string;\r\n  subject: string;\r\n  sessionDate: Date;\r\n  tableTitle: string;\r\n  customHeader?: string[];\r\n  customIndexRows?: number[];\r\n  customTotalRows?: number[];\r\n  customTotalFormatting?: NumberFormat[];\r\n  customTotalType?: FormatType[];\r\n  footLabel?: string;\r\n}\r\n\r\ninterface IFooterConfig {\r\n  customTotalRows?: number[];\r\n  customTotalFormatting?: NumberFormat[];\r\n  customTotalType?: FormatType[];\r\n  customTotalAlign?: AlignClass[];\r\n}\r\n\r\ninterface ISearchParamsProps {\r\n  bancorresponsal: string;\r\n  desde?: string;\r\n  hasta?: string;\r\n  ruc: string;\r\n  tipo: string;\r\n  numfactura?: string;\r\n}\r\n\r\n@Component({\r\n  selector: 'nexti-lib-datatable',\r\n  templateUrl: './nexti-lib-datatable.component.html',\r\n  styleUrls: ['./nexti-lib-datatable.component.sass'],\r\n})\r\nexport class NextiLibDatatableComponent implements OnInit {\r\n  @Input() header: Array<any>;\r\n  @Input() customHeader?: boolean;\r\n  @Input() list: Array<any>;\r\n  @Input() titleEmpty: string;\r\n  @Input() title: string;\r\n  @Input() titleXs: boolean = false;\r\n  @Input() btnModal: boolean;\r\n  @Input() recursos: any;\r\n  @Input() selectFilter: any;\r\n  @Input() hiddenActions: boolean;\r\n  @Input() breadcrumbs: Array<any>;\r\n  @Input() infoAdicional: Array<any>;\r\n  @Input() linkBack: boolean = false;\r\n  @Input() reportConfig?: IReportConfig;\r\n  @Input() opOcultarBuscar: boolean;\r\n  @Input() opOcultarFooter: boolean;\r\n  @Input() footerConfig?: IFooterConfig;\r\n  @Input() actionState: boolean = false;\r\n  @Input() paginacion?: boolean = false;\r\n  @Input() totalRegistros?: number = 0;\r\n  @Input() multFPP?: number = 0;\r\n  @Input() actualPage?: number = 0;\r\n\r\n  @Input() excelData?: any;\r\n  @Input() multiTable: boolean = false;\r\n  @Input() sections: boolean = false;\r\n  @Input() isLoading?: boolean;\r\n\r\n  @Output() onDelete = new EventEmitter<any>();\r\n  @Output() onUpdate = new EventEmitter<any>();\r\n  @Output() onActive = new EventEmitter<any>();\r\n  @Output() onShow = new EventEmitter<any>();\r\n  @Output() onShowEvent = new EventEmitter<any>();\r\n  @Output() onBack = new EventEmitter<any>();\r\n  @Output() onfilter = new EventEmitter<any>();\r\n  @Output() onNext = new EventEmitter<any>();\r\n  @Output() onReturn = new EventEmitter<any>();\r\n  @ViewChild('search') inputSearch!: ElementRef;\r\n  @ViewChildren(TableComponent) datatable: QueryList<TableComponent>;\r\n\r\n  data$ = new Array<any>();\r\n  // TODO mejorar, con un estado de header normalizado se puede prescindir de esta variable\r\n  dataPerm$ = new Array<any>();\r\n  originalList: Array<any>;\r\n  footerRow = [];\r\n  filterSelected: any = null;\r\n\r\n  constructor(\r\n    private datePipe: DatePipe,\r\n    private currencyPipe: CurrencyPipe,\r\n    private excelService: ExcelService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.selectFilter?.forEach((element) => {\r\n      if (element.selected) {\r\n        this.filterSelected = element.value;\r\n      }\r\n    });\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges): void {\r\n    const { list } = changes;\r\n    if (list?.currentValue !== list?.previousValue) {\r\n      this.data$ = list?.currentValue;\r\n      this.dataPerm$ = list?.currentValue;\r\n      if (this.inputSearch) this.inputSearch.nativeElement.value = '';\r\n    }\r\n  }\r\n\r\n  ngDoCheck() {\r\n    this.datatable?.forEach((element) => {\r\n      if (this.footerConfig) element.getFooterData();\r\n    });\r\n  }\r\n\r\n  onFilter() {\r\n    this.onfilter.emit(this.filterSelected);\r\n  }\r\n\r\n  onDeleteItem(item: any) {\r\n    this.onDelete.emit(item);\r\n  }\r\n\r\n  onUpdateItem(item: any) {\r\n    this.onUpdate.emit(item);\r\n  }\r\n\r\n  onActiveItem(item: any) {\r\n    this.onActive.emit(item);\r\n  }\r\n\r\n  onShowItem(item: any) {\r\n    this.onShow.emit(item);\r\n  }\r\n\r\n  onShowItemEvent($event: any) {\r\n    this.onShowEvent.emit($event);\r\n  }\r\n\r\n  onlyNumbers(event) {\r\n    return event.charCode >= 48 && event.charCode <= 57;\r\n  }\r\n\r\n  customSearchBancoFn(term: string, item: any) {\r\n    term = term.toLowerCase();\r\n\r\n    return item.bancorresponsal.toLowerCase().includes(term);\r\n  }\r\n\r\n  customSearchCompaniesFn(term: string, item: any) {\r\n    term = term.toLowerCase();\r\n\r\n    return (\r\n      item.ruc.includes(term) || item.razonSocial.toLowerCase().includes(term)\r\n    );\r\n  }\r\n\r\n  filter(search: string) {\r\n    if (this.multiTable) {\r\n      let datafilter = [];\r\n      for (const list of this.dataPerm$) {\r\n        let data = this.filterList(list, search);\r\n        datafilter.push(data);\r\n      }\r\n      this.data$ = datafilter;\r\n    } else {\r\n      this.data$ = this.filterList(this.dataPerm$, search);\r\n    }\r\n  }\r\n\r\n  filterList(list, search) {\r\n    return list.filter((lista) => {\r\n      for (const row of lista) {\r\n        if (typeof row === 'object') {\r\n          if (\r\n            (row.title && this.toCompareString(row.title, search)) ||\r\n            (row.subtitle && this.toCompareString(row.subtitle, search))\r\n          ) {\r\n            return lista;\r\n          }\r\n        } else if (this.toCompareString(row, search)) {\r\n          return lista;\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  toCompareString(item, search) {\r\n    return item\r\n      .toString()\r\n      .toUpperCase()\r\n      .includes(search.toString().toUpperCase());\r\n  }\r\n\r\n  getReportHeader(): string[] {\r\n    const { customHeader } = this.reportConfig;\r\n\r\n    return customHeader\r\n      ? customHeader\r\n      : this.header.map((item) => {\r\n          if (typeof item === 'object') {\r\n            return item.title;\r\n          } else {\r\n            return item;\r\n          }\r\n        });\r\n  }\r\n\r\n  getFormatDataToTreatment(item) {\r\n    if (typeof item === 'object') {\r\n      if (item != null) {\r\n        if (item.title && item.subtitle) {\r\n          return `${item.title}\\n${item.subtitle}`;\r\n        } else {\r\n          return item.title ? item.title : item.subtitle && item.subtitle;\r\n        }\r\n      } else {\r\n        return '';\r\n      }\r\n    } else {\r\n      return item;\r\n    }\r\n  }\r\n\r\n  getRawData(customTotalRows, formatedData, customTotalType, rawDataRow) {\r\n    if (customTotalRows && customTotalRows.length) {\r\n      customTotalRows.forEach((customIndex, indexCol) => {\r\n        formatedData.forEach((item, index) => {\r\n          if (customIndex === index) {\r\n            let returnItem = 0;\r\n\r\n            customTotalType.forEach((type, indexType) => {\r\n              if (indexCol === indexType) {\r\n                switch (type) {\r\n                  case FormatType.NUM:\r\n                    if (\r\n                      (typeof item === 'string' &&\r\n                        (item == '--' || item === '')) ||\r\n                      typeof item === 'undefined'\r\n                    ) {\r\n                      returnItem = 0;\r\n                    } else {\r\n                      returnItem = Number(item);\r\n                    }\r\n                    break;\r\n                  case FormatType.CUR:\r\n                    if (\r\n                      (typeof item === 'string' &&\r\n                        (item == '--' || item === '')) ||\r\n                      typeof item === 'undefined'\r\n                    ) {\r\n                      returnItem = 0;\r\n                    } else {\r\n                      returnItem = this.formatCurrencyToNumber(item);\r\n                    }\r\n                    break;\r\n                  case FormatType.COU:\r\n                    if (\r\n                      (typeof item === 'string' &&\r\n                        (item == '--' || item === '')) ||\r\n                      typeof item === 'undefined'\r\n                    ) {\r\n                      returnItem = 0;\r\n                    } else {\r\n                      returnItem = 1;\r\n                    }\r\n                    break;\r\n                  default:\r\n                    returnItem = 0;\r\n                }\r\n              }\r\n            });\r\n            rawDataRow.push(returnItem);\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  getReportBody() {\r\n    const {\r\n      customIndexRows,\r\n      customTotalRows,\r\n      customTotalFormatting,\r\n      customTotalType,\r\n      footLabel,\r\n    } = this.reportConfig;\r\n\r\n    let tableData = [];\r\n    let tableFooterData = [];\r\n    let rawData = [];\r\n\r\n    this.data$.forEach((itemArray) => {\r\n      let tableDataRow = [];\r\n      let rawDataRow = [];\r\n\r\n      // Step 1: format - prepare dat\r\n      const formatedData = itemArray.map((item) =>\r\n        this.getFormatDataToTreatment(item)\r\n      );\r\n\r\n      // Step 2: Generate Filter data\r\n      if (customIndexRows && customIndexRows.length) {\r\n        customIndexRows.forEach((customIndex) => {\r\n          formatedData.forEach((item, index) => {\r\n            if (customIndex === index) {\r\n              tableDataRow.push(item);\r\n            }\r\n          });\r\n        });\r\n      } else {\r\n        tableDataRow = formatedData;\r\n      }\r\n\r\n      // Step 3: Get raw data (values to totals)\r\n      this.getRawData(\r\n        customTotalRows,\r\n        formatedData,\r\n        customTotalType,\r\n        rawDataRow\r\n      );\r\n\r\n      tableData.push(tableDataRow);\r\n      rawData.push(rawDataRow);\r\n    });\r\n\r\n    if (customTotalRows && customTotalRows.length && rawData.length) {\r\n      let procesedTotals = [];\r\n\r\n      procesedTotals = this.trasposeMatrix(rawData).map((itemArray) =>\r\n        itemArray.reduce((a, b) => a + b, 0)\r\n      );\r\n\r\n      if (customTotalFormatting && customTotalFormatting.length) {\r\n        procesedTotals = customTotalFormatting.map((format, index) => {\r\n          switch (format) {\r\n            case NumberFormat.CUR:\r\n              return this.currencyPipe.transform(procesedTotals[index]);\r\n            default:\r\n              return procesedTotals[index];\r\n          }\r\n        });\r\n      }\r\n\r\n      procesedTotals = [[footLabel, ...procesedTotals]];\r\n\r\n      tableFooterData = procesedTotals.length ? procesedTotals : null;\r\n    }\r\n\r\n    return {\r\n      tableData,\r\n      tableFooterData,\r\n    };\r\n  }\r\n\r\n  generatePdf() {\r\n    const pdf = new jsPDF.jsPDF();\r\n    pdf.setProperties({\r\n      title: 'Resultados Netos',\r\n    });\r\n\r\n    const { title, subtitle, subject, sessionDate, tableTitle } =\r\n      this.reportConfig;\r\n\r\n    const pageSize = pdf.internal.pageSize;\r\n    const pageWidth = pageSize.width ? pageSize.width : pageSize.getWidth();\r\n\r\n    // Section I\r\n    (pdf as any).autoTable({\r\n      body: [\r\n        [title, this.datePipe.transform(Date.now(), 'dd/MM/yyyy HH:mm')],\r\n        [\r\n          {\r\n            content: subtitle,\r\n            colSpan: 2,\r\n            styles: { fontSize: 12, fontStyle: 'normal' },\r\n          },\r\n        ],\r\n      ],\r\n      showHead: false,\r\n      theme: 'plain',\r\n      styles: {\r\n        fillColor: [48, 84, 150],\r\n        textColor: 255,\r\n        valign: 'bottom',\r\n      },\r\n      columnStyles: {\r\n        0: { fontStyle: 'bold', fontSize: 13 },\r\n        1: { fontSize: 11, halign: 'right' },\r\n      },\r\n    });\r\n\r\n    // Section II left\r\n    const lastTableY = (pdf as any).lastAutoTable.finalY + 5;\r\n\r\n    (pdf as any).autoTable({\r\n      body: [[subject]],\r\n      showHead: false,\r\n      theme: 'plain',\r\n      startY: lastTableY,\r\n      styles: {\r\n        fillColor: [255, 255, 153],\r\n        textColor: 0,\r\n        valign: 'bottom',\r\n        fontSize: 11,\r\n        fontStyle: 'bold',\r\n        overflow: 'hidden',\r\n      },\r\n      margin: { right: 100 },\r\n    });\r\n\r\n    // Section II right\r\n    (pdf as any).autoTable({\r\n      body: [\r\n        [\r\n          'SESION COMPENSACION:',\r\n          this.datePipe.transform(sessionDate, 'dd/MM/yy, HH:mm', 'UTC'),\r\n        ],\r\n      ],\r\n      showHead: false,\r\n      theme: 'plain',\r\n      startY: lastTableY,\r\n      styles: {\r\n        fillColor: [255, 255, 153],\r\n        textColor: 0,\r\n        valign: 'bottom',\r\n        fontSize: 10,\r\n        overflow: 'hidden',\r\n      },\r\n      margin: { left: pageWidth - 90 },\r\n      columnStyles: {\r\n        1: { halign: 'right' },\r\n      },\r\n    });\r\n\r\n    // Section III\r\n    (pdf as any).autoTable({\r\n      body: [[tableTitle]],\r\n      showHead: false,\r\n      theme: 'plain',\r\n      startY: (pdf as any).lastAutoTable.finalY + 10,\r\n      styles: {\r\n        fillColor: [31, 78, 120],\r\n        textColor: 255,\r\n        valign: 'bottom',\r\n        fontSize: 11,\r\n        fontStyle: 'bold',\r\n      },\r\n    });\r\n\r\n    const header = [this.getReportHeader()];\r\n    const { tableData, tableFooterData } = this.getReportBody();\r\n\r\n    // Section IV\r\n    const tableRenderObj: any = {\r\n      head: header,\r\n      body: tableData,\r\n      theme: 'striped',\r\n      showHead: 'firstPage',\r\n      showFoot: 'lastPage',\r\n      startY: (pdf as any).lastAutoTable.finalY,\r\n      headStyles: { fillColor: [214, 220, 228], textColor: 0 },\r\n      footStyles: { fillColor: [31, 78, 120], textColor: 255 },\r\n      foot: tableFooterData.length ? tableFooterData : false,\r\n      styles: { fontSize: 9 },\r\n    };\r\n\r\n    (pdf as any).autoTable(tableRenderObj);\r\n\r\n    // Open PDF document in browser's new tab\r\n    // pdf.output('pdfobjectnewwindow');\r\n    pdf.save();\r\n  }\r\n\r\n  generateTxt() {\r\n    const header = this.getReportHeader();\r\n\r\n    const options = {\r\n      headers: header,\r\n      fieldSeparator: ';',\r\n      quoteStrings: '',\r\n      decimalseparator: ',',\r\n    };\r\n\r\n    let { tableData, tableFooterData } = this.getReportBody();\r\n\r\n    tableData = [header, ...tableData];\r\n    tableData = tableFooterData.length\r\n      ? [...tableData, ...tableFooterData]\r\n      : tableData;\r\n\r\n    const data = this.convertToJSON(tableData);\r\n    new Angular2Txt(data, 'Resultados Netos', options);\r\n  }\r\n\r\n  getFooterData() {\r\n    const {\r\n      customTotalRows,\r\n      customTotalFormatting,\r\n      customTotalType,\r\n      customTotalAlign,\r\n    } = this.footerConfig;\r\n\r\n    let tableFooterData = [];\r\n    let rawData = [];\r\n\r\n    this.data$.forEach((itemArray) => {\r\n      let rawDataRow = [];\r\n\r\n      // Step 1: format - prepare dat\r\n      const formatedData = itemArray.map((item) =>\r\n        this.getFormatDataToTreatment(item)\r\n      );\r\n\r\n      // Step 2: Get raw data (values to totals)\r\n      this.getRawData(\r\n        customTotalRows,\r\n        formatedData,\r\n        customTotalType,\r\n        rawDataRow\r\n      );\r\n\r\n      rawData.push(rawDataRow);\r\n    });\r\n\r\n    if (customTotalRows && customTotalRows.length && rawData.length) {\r\n      let procesedTotals = [];\r\n\r\n      procesedTotals = this.trasposeMatrix(rawData).map((itemArray) =>\r\n        itemArray.reduce((a, b) => a + b, 0)\r\n      );\r\n\r\n      if (customTotalFormatting && customTotalFormatting.length) {\r\n        procesedTotals = customTotalFormatting.map((format, index) => {\r\n          let value, align;\r\n\r\n          switch (format) {\r\n            case NumberFormat.CUR:\r\n              value = this.currencyPipe.transform(procesedTotals[index]);\r\n              break;\r\n            default:\r\n              value = procesedTotals[index];\r\n              break;\r\n          }\r\n\r\n          align = customTotalAlign[index];\r\n\r\n          return {\r\n            value,\r\n            align,\r\n          };\r\n        });\r\n      }\r\n\r\n      tableFooterData = procesedTotals.length ? procesedTotals : null;\r\n    }\r\n\r\n    let finalFooterData = [];\r\n\r\n    // Clear data\r\n    if (customTotalRows && customTotalRows.length) {\r\n      let cont = 0;\r\n      for (let i = 0; i < this.header.length; i++) {\r\n        let itemToPush;\r\n\r\n        customTotalRows.forEach((customIndex) => {\r\n          if (customIndex === i) {\r\n            itemToPush = tableFooterData[cont];\r\n            cont++;\r\n          }\r\n        });\r\n\r\n        finalFooterData.push(itemToPush);\r\n      }\r\n    }\r\n\r\n    this.footerRow = finalFooterData;\r\n  }\r\n\r\n  exportAsXLSX(): void {\r\n    this.excelService.exportAsExcelFile(\r\n      this.excelData,\r\n      'planilla_compensacion'\r\n    );\r\n  }\r\n\r\n  formatCurrencyToNumber(value: string): number {\r\n    if (value !== undefined && value !== null)\r\n      return Number(String(value).replace(/[^0-9.-]+/g, ''));\r\n  }\r\n\r\n  isNumber(value: any) {\r\n    let regex = /^\\d*\\.?\\d*$/;\r\n    return regex.test(value);\r\n  }\r\n\r\n  trasposeMatrix(matrix) {\r\n    return matrix[0].map((_, colIndex) => matrix.map((row) => row[colIndex]));\r\n  }\r\n\r\n  convertToJSON(array) {\r\n    var objArray = [];\r\n    for (var i = 1; i < array.length; i++) {\r\n      objArray[i - 1] = {};\r\n      for (var k = 0; k < array[0].length && k < array[i].length; k++) {\r\n        var key = array[0][k];\r\n        let actualElement = array[i][k];\r\n        let el = actualElement;\r\n        if (typeof actualElement === 'string') {\r\n          el = actualElement.replace(/\\n/g, ' ');\r\n        } else if (typeof actualElement === 'undefined') {\r\n          el = '';\r\n        }\r\n        objArray[i - 1][key] = el;\r\n      }\r\n    }\r\n\r\n    return objArray;\r\n  }\r\n\r\n  onBackItem() {\r\n    this.onBack.emit();\r\n  }\r\n}\r\n","import { Component, OnInit, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'lib-breadcrumbs',\r\n  templateUrl: './breadcrumbs.component.html',\r\n  styleUrls: ['./breadcrumbs.component.sass']\r\n})\r\nexport class BreadcrumbsComponent implements OnInit {\r\n\r\n  @Input() breadcrumbs: Array<any> = [];\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","import { Component, Input, OnInit, SimpleChanges } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'lib-titlesecondary',\r\n  templateUrl: './titlesecondary.component.html',\r\n  styleUrls: ['./titlesecondary.component.sass'],\r\n})\r\nexport class TitlesecondaryComponent implements OnInit {\r\n  @Input() infoAdicional: Array<any> = [];\r\n  title: string;\r\n  subtitle: string;\r\n\r\n  constructor() {\r\n    this.title = '';\r\n    this.subtitle = '';\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    const { infoAdicional } = changes;\r\n    if (infoAdicional?.currentValue !== infoAdicional?.previousValue) {\r\n      this.title = this.infoAdicional[0]?.title;\r\n      this.subtitle = this.infoAdicional[0]?.subtitle;\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.title = this.infoAdicional[0]?.title;\r\n    this.subtitle = this.infoAdicional[0]?.subtitle;\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { NextiLibDatatableComponent } from './pages/nexti-lib-datatable.component';\r\n\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CommonModule, CurrencyPipe, DatePipe } from '@angular/common';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { BreadcrumbsComponent } from './component/breadcrumbs/breadcrumbs.component';\r\nimport { TitlesecondaryComponent } from './component/titlesecondary/titlesecondary.component';\r\nimport { TableComponent } from './component/table/table.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    NextiLibDatatableComponent,\r\n    BreadcrumbsComponent,\r\n    TitlesecondaryComponent,\r\n    TableComponent,\r\n  ],\r\n  imports: [FormsModule, CommonModule, NgSelectModule],\r\n  exports: [NextiLibDatatableComponent],\r\n  providers: [DatePipe, CurrencyPipe],\r\n})\r\nexport class NextiLibDatatableModule {}\r\n","/*\r\n * Public API Surface of nexti-lib-datatable\r\n */\r\n\r\nexport * from './lib/pages/nexti-lib-datatable.component';\r\nexport * from './lib/nexti-lib-datatable.module';\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {BreadcrumbsComponent as ɵc} from './lib/component/breadcrumbs/breadcrumbs.component';\nexport {TableComponent as ɵa} from './lib/component/table/table.component';\nexport {TitlesecondaryComponent as ɵd} from './lib/component/titlesecondary/titlesecondary.component';\nexport {ExcelService as ɵb} from './lib/services/excel.service';"],"names":["XLSX.utils","XLSX.write","FileSaver.saveAs","NumberFormat","FormatType","jsPDF.jsPDF"],"mappings":"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"}